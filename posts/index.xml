<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on ä¸€æ¯å“ˆå¸Œä¸åŠ ç›</title><link>https://pinkhello.github.io/posts/</link><description>Recent content in Posts on ä¸€æ¯å“ˆå¸Œä¸åŠ ç›</description><generator>Hugo -- gohugo.io</generator><language>zh</language><copyright>ä¸€æ¯å“ˆå¸Œä¸åŠ ç›, All Rights Reserved</copyright><lastBuildDate>Wed, 10 Feb 2021 10:05:29 +0800</lastBuildDate><atom:link href="https://pinkhello.github.io/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>15 è®°ä¸€æ¬¡dockeræ—¥å¿—ç£ç›˜å‘Šè­¦é—®é¢˜</title><link>https://pinkhello.github.io/posts/15-%E8%AE%B0%E4%B8%80%E6%AC%A1docker%E6%97%A5%E5%BF%97%E7%A3%81%E7%9B%98%E5%91%8A%E8%AD%A6%E9%97%AE%E9%A2%98/</link><pubDate>Wed, 10 Feb 2021 10:05:29 +0800</pubDate><guid>https://pinkhello.github.io/posts/15-%E8%AE%B0%E4%B8%80%E6%AC%A1docker%E6%97%A5%E5%BF%97%E7%A3%81%E7%9B%98%E5%91%8A%E8%AD%A6%E9%97%AE%E9%A2%98/</guid><description>å‰æ™¯ ä»Šæ—¥ï¼Œæˆ‘æ­£åœ¨å¼€å¼€å¿ƒå¿ƒçš„åˆ·ç€JFXçš„Codingä¸­ï¼Œçªç„¶çº¿ä¸ŠæŠ¥è­¦ç¾¤ä¸­çˆ†äº†ä¸ªç‚¸å¼¹ï¼ŒEC2ç£ç›˜è¶…è¿‡80%ã€‚
å¤„ç†è¿‡ç¨‹ è§£å†³é—®é¢˜å§¿åŠ¿å°±ä½ï¼š
èµ¶ç´§å¼€æœº ==ã€‹ â¤ï¸ä¸­ä¸‡åŒ¹ğŸ¦™å¥”è…¾è€Œè¿‡ â¤ï¸ä¸­MMP
é»˜é»˜çš„é€šè¿‡è·³æ¿æœºè¿›å…¥ç›®æ ‡æœºå™¨
ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€,æ‰§è¡ŒæŸ¥çœ‹ç£ç›˜å ç”¨å¤§å°ï¼Œæˆ‘çš„ä¹–ä¹–ï¼Œå ç”¨ç¡®å®è¶…è¿‡äº†87%äº†ï¼Œä¸€ä¸‹å­æš´æ¶¨çš„
# æŸ¥çœ‹ç£ç›˜å ç”¨å¤§å° &amp;gt; sudo df -h # æŸ¥çœ‹å½“å‰ç›®å½•æ€»é‡ &amp;gt; sudo du -sh å¼€å§‹å®šä½å…·ä½“å“ªä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•å ç”¨è¿™ä¹ˆå¤§,è·‘åˆ°æ ¹ç›®å½•ä¸‹ã€‚ # æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹ä¸€çº§å­æ–‡ä»¶å’Œå­ç›®å½•å ç”¨çš„ç£ç›˜å®¹é‡ &amp;gt; sudo du -lh --max-depth=1 ä¸€å¼€å§‹çŒœæƒ³å¯èƒ½æ˜¯dockerå®¹å™¨çš„æ—¥å¿—å ç”¨å¤§ï¼Œä¸Šé¢æ‰§è¡Œåï¼Œè¿˜çœŸ TM æ˜¯ /var/lib/docker/containers ç›®å½•å ç”¨ 42G å¼€å§‹æŸ¥çœ‹æ˜¯å“ªä¸ªå®¹å™¨å ç”¨çš„è¿™ä¹ˆå¤§çš„ç©ºé—´ # æŸ¥çœ‹ containers æ—¥å¿—ç›®å½•æ’åº &amp;gt; sudo du -d1 -h /var/lib/docker/containers | sort -h # æŸ¥çœ‹å…·ä½“çš„å“ªä¸ªæ—¥å¿—æ–‡ä»¶å¤§ &amp;gt; sudo find /var/lib/docker/containers -name *.</description></item><item><title>14 å·¥ä½œçºªå®2020</title><link>https://pinkhello.github.io/posts/14-%E5%B7%A5%E4%BD%9C%E7%BA%AA%E5%AE%9E2020/</link><pubDate>Wed, 10 Feb 2021 10:00:19 +0800</pubDate><guid>https://pinkhello.github.io/posts/14-%E5%B7%A5%E4%BD%9C%E7%BA%AA%E5%AE%9E2020/</guid><description>æ¯æ—¥ä¸€æ€ç¯‡ [2019-10-12 æ¯æ—¥ä¸€æ€] Mysql WALæŠ€æœ¯ å’Œ RingBuffer æ€æƒ³å¥½ä¸€è‡´? [2019-10-14 æ¯æ—¥ä¸€æ€] JWT ç»­ç­¾è¯¥å¦‚ä½•åš? [2019-10-16 æ¯æ—¥ä¸€æ€] TCP/IP åè®®å…·ä½“æŒ‡å“ªäº›? æˆ‘ä»¬éƒ½çŸ¥é“ç½‘ç»œæ˜¯7å±‚æ¨¡å‹ï¼Œåº”è¡¨ä¼šä¼ ç½‘æ•°ç‰©ï¼Œ ç°åœ¨æˆ‘åªè®¨è®ºåº”ä¼ ç½‘æ•°è¿™4å±‚ã€‚TCP/IPåè®®åº”è¯¥è¢«ç§°ä¸ºTCP/IPæ—ï¼Œ æˆ‘çš„ç†è§£ä»–ä¸æ˜¯å±äºå•ä¸ªçš„åè®®ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªç»Ÿç§°ï¼ŒçŸ¥é“ç½‘ç»œæ¨¡å‹æ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯åˆ†å±‚ï¼Œä¸ºä»€ä¹ˆåˆ†å±‚ï¼Œåˆ†å±‚ä»è®¾è®¡ä¸Šå’Œå®ç°éš¾åº¦ä¸Šéƒ½ç®€å•å¾ˆå¤šï¼Œå“ªä¸€å±‚éœ€è¦ä¿®æ”¹åªéœ€è¦ä¿®æ”¹è¿™ä¸€å±‚ã€‚
åº”ç”¨å±‚ï¼Œåƒæœ€å¸¸è§çš„httpã€ftpã€dnsã€rtspã€rtmpç­‰ç­‰åè®®éƒ½æ˜¯å±äºè¿™ç±»ï¼Œ ä¼ è¾“å±‚å‘¢æŒ‰ç…§ä¼ è¾“ç±»å‹åˆåˆ†äº†TCPå’ŒUDP, ç½‘ç»œå±‚ï¼Œæ˜¯æ•°æ®åŒ…äº¤äº’çš„å±‚é¢ï¼Œ æ•°æ®é“¾è·¯å±‚æ˜¯å¤„ç†ç½‘å¡ã€æ“ä½œç³»ç»Ÿç­‰ç­‰è½¯ç¡¬æŠ½è±¡å‡ºçš„å¯è§éƒ¨åˆ†ã€‚ ä¸¾ä¸€ä¸ªæ —å­ï¼Œä¸€ä¸ªhttpè¯·æ±‚ï¼Œåœ¨åº”ç”¨å±‚é¢æ˜¯å®Œæ•´çš„ï¼Œåé¢è¢«ä¼ è¾“å±‚ï¼ˆTCPå±‚ï¼‰è¢«åˆ†åŒ…ï¼Œå¹¶æ‰“ä¸Šåºå·æ ‡è®°ï¼Œå†è¿›å…¥ç½‘ç»œå±‚ï¼ˆIPå±‚ï¼‰æ·»åŠ IPé¦–éƒ¨ï¼ˆç›®æ ‡macåœ°å€ç­‰ç­‰ï¼‰ï¼Œ ä¸‹é¢å°±æ˜¯å¼€å§‹ç–¯ç‹‚çš„å‘é€äº†ï¼Œæ¥æ”¶æ–¹ä¸€æ ·æ˜¯è¿™ä¸ªè¿‡ç¨‹çš„é€†åºã€‚åº”ç”¨å¤„ç†å®Œæˆåé¢çš„å“åº”è¿‡ç¨‹ä¸è¯·æ±‚è¿‡ç¨‹ä¸€æ ·çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚åŒæ—¶å¯ä»¥æ‰©å±•å‡ºL4ä¸L7çš„é—®é¢˜ï¼Œ å„è‡ªæ˜¯å¦‚ä½•å»å®ç°è´Ÿè½½å‡è¡¡çš„ï¼ŸL4æ˜¯å¯ä»¥çœ‹å‡ºæ˜¯åŸºäºä¼ è¾“å±‚å³TCPå±‚å·¥ä½œï¼ˆé€šè¿‡å‘å¸ƒVIPï¼ˆç¬¬ä¸‰å±‚ï¼‰ä»¥åŠç¬¬å››å±‚ç«¯å£ï¼‰ï¼ŒL7åŸºäºåº”ç”¨å±‚å·¥ä½œï¼ˆç¬¬å››å±‚åŸºç¡€ä¸Š+è€ƒè™‘åº”ç”¨ç‰¹å¾ï¼‰ï¼Œ æ¯”å¦‚HTTPçš„URLã€å®¢æˆ·ç«¯çš„ç±»åˆ«ã€è¯­è¨€ç±»å‹ç­‰ç­‰ã€‚
[2019-10-18 æ¯æ—¥ä¸€æ€]ä¸€ç§åœºæ™¯ï¼Œrabbitmq çš„ Exchange ä¸º fanout ç±»å‹ï¼Œç»‘å®šåˆ°å¤šä¸ªqueue, ä»€ä¹ˆæƒ…å†µä¼šè§¦å‘ rabbitmq æµæ§ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ [2019-10-22 æ¯æ—¥ä¸€æ€]IDåºåˆ—ç”Ÿäº§å™¨æ€ä¹ˆå®ç°å‘¢ï¼Ÿ uuidç”Ÿæˆ
åŸºäºæ—¶é—´ï¼ˆ60ä½utcæ—¶é—´ å’Œ æ—¶é—´åºåˆ—å€¼14ä½ï¼Œä»¥åŠmacåœ°å€ï¼‰ åŸºäºåç§°ï¼ˆé’ˆå¯¹å‘½åç©ºé—´dnsã€urlç­‰åˆ†é…ï¼ŒæŠŠåç§°è½¬æˆå­—èŠ‚åºåˆ—ï¼Œå†ç”¨md5æˆ–sha-1ä¸å‘½åç©ºé—´æ ‡è¯†è¿›è¡Œè®¡ç®—ï¼Œäº§ç”Ÿå“ˆå¸Œç»“æœï¼‰ åŸºäºéšæœºæ•°ï¼ˆå¯†ç å­¦éšæœºæ•°ï¼Œç³»ç»Ÿçš„ç¡¬ç›˜å†…å­˜çº¿ç¨‹å †æ ˆè¿›ç¨‹å¥æŸ„ç­‰sha-1ç”Ÿæˆå“ˆå¸Œç»“æœï¼‰ snowflakeï¼Œ64bitï¼Œlongå‹ID
IDç”Ÿæˆæ–¹å¼ 1bitï¼ˆä¸ä½¿ç”¨ï¼‰ï¼Œ41bitæ—¶é—´æˆ³ï¼ˆå½“å‰æ¯«ç§’æ•°ã€69å¹´ä¸€è½®å›ï¼‰ï¼Œ10bitæœºå™¨ç ï¼ˆ1024å°ï¼Œ5bitæ•°æ®ä¸­å¿ƒï¼Œ5bitæœºå™¨IDï¼‰ï¼Œ12bitä½œä¸ºæ¯«ç§’å†…åºåˆ—å·ï¼ˆå•æœºç†è®º 409.6w/sï¼‰ é›ªèŠ±ç®—æ³•ï¼Œå¤šå°æœºå™¨ï¼Œæœ‰å› ä¸ºæ—¶é’Ÿå›æ‹¨å¯¼è‡´çš„IDç”Ÿæˆé—®é¢˜ï¼Œå½“ç„¶å¯ä»¥é€šè¿‡å‘ç”Ÿæ—¶é’Ÿå›æ‹¨åä¸€ä¸ªé˜ˆå€¼ï¼Œåœ¨é˜ˆå€¼å†…åˆ™ä¸å…è®¸äº§ç”Ÿæ–°çš„IDï¼ŒåŒæ­¥é˜»å¡ï¼Œåœ¨é˜ˆå€¼å¤–é‡æ–°è®¾ç½®æœºå™¨IDæ¥è§£å†³ github.com/baidu/uid-generator æŠ€æœ¯è€é“ç™¾åº¦å¼€æºçš„åŸºäºsnowflakeå®ç°çš„IDç”Ÿæˆå™¨ï¼Œå¯ä»¥å€Ÿé‰´ç ”è¯»ä¸€ä¸‹ [2019-11-01 æ¯æ—¥ä¸€æ€]æˆ‘ä»¬å¸¸è¯´çš„é™æµæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¦é™æµï¼Ÿé™æµæœ‰å“ªäº›æ–¹å¼ï¼Ÿ æˆ‘ä»¬å¸¸è¯´çš„é™æµï¼Œé¡¾åæ€ä¹‰å³é™åˆ¶æµé‡. é™åˆ¶ç³»ç»Ÿçš„è¾“å…¥å’Œè¾“å‡º å¸¸ç”¨çš„é™æµå‘å±•è‡³ä»Šï¼Œæœ‰å››ç§æ–¹å¼
å›ºå®šæ—¶é—´è®¡æ•°å™¨ æ¼æ¡¶ ä»¤ç‰Œæ¡¶ æ»‘åŠ¨çª—å£è®¡æ•°å™¨ å›ºå®šçª—å£è®¡æ•°å™¨ï¼šä»¥å•ä½æ—¶é—´å†…è¿›å…¥ç³»ç»Ÿï¼ˆç³»ç»Ÿçº§åˆ«ï¼‰æˆ–è€…æŸä¸€ä¸ªå•ä¸€æ¥å£æœåŠ¡ï¼ˆç³»ç»ŸæœåŠ¡çº§åˆ«ï¼‰è¯·æ±‚æ¬¡æ•°ï¼Œåœ¨è¿™ä¸ªå•ä½æ—¶é—´å†…çš„è¶…è¿‡æ¬¡æ•°ï¼Œæ‹’ç»æœåŠ¡æˆ–è€…æ›´æ¢å…¶ä»–æ–¹æ¡ˆï¼ˆé™çº§ã€ç†”æ–­ï¼‰è¾¾åˆ°é™æµç›®çš„ã€‚</description></item><item><title>13 Kafkaä¸Debeziumæ„å»ºCDCç®¡é“</title><link>https://pinkhello.github.io/posts/13-kafka%E4%B8%8Edebezium%E6%9E%84%E5%BB%BAcdc%E7%AE%A1%E9%81%93/</link><pubDate>Wed, 10 Feb 2021 09:53:51 +0800</pubDate><guid>https://pinkhello.github.io/posts/13-kafka%E4%B8%8Edebezium%E6%9E%84%E5%BB%BAcdc%E7%AE%A1%E9%81%93/</guid><description>å»ºè®¾ç¯‡ 1ã€ä»€ä¹ˆæ˜¯ debezium? https://debezium.io/
Tutorial https://debezium.io/documentation/reference/1.3/tutorial.html
2ã€Debezium å¦‚ä½•å·¥ä½œçš„ 2.1 Debezium æ”¯æŒçš„æ•°æ®åº“ç±»å‹ MySQL MongoDB PostgreSQL Oracle SQL Server Db2 Cassandra 2.2 Debezium ä¸‰ç§æ–¹å¼è¿è¡Œ Kafka Connect Debezium Server Embedded Engine https://github.com/debezium/debezium-examples/tree/master/kinesis
3ã€åœ¨ K8S ä¸­æ„å»ºåŸºç¡€Debeziumé›†ç¾¤ç¯å¢ƒ é•œåƒå‡†å¤‡
kafka | debezium https://hub.docker.com/r/debezium/kafka zookeeper | debezium https://hub.docker.com/r/debezium/zookeeper connect | debezium https://hub.docker.com/r/debezium/connect schema-registry | confluentinc https://hub.docker.com/r/confluentinc/cp-schema-registry psï¼š debezium å‚è€ƒåœ°å€ https://github.com/debezium/docker-images confluentinc å‚è€ƒåœ°å€ https://github.com/confluentinc/cp-all-in-one/tree/latest/cp-all-in-one
3.1 K8SåŸºç¡€çŸ¥è¯† kafka ä¸ zookeeper å»ºè®¾ä¸º stateful çŠ¶æ€é›†ç¾¤ schema-registry ä¸»è¦ä¸ºäº† æ”¯æŒ avro æ ¼å¼è¿™äº›ä¸éœ€è¦å†™åˆ° kafka æ¶ˆæ¯å¤´é‡Œé¢ï¼Œå‡å°‘æ¶ˆæ¯çš„å¤§å°ï¼Œé¢å¤–çš„æœåŠ¡ï¼Œå±äº kafka ç”Ÿæ€ï¼Œå­˜å‚¨ä¾èµ– kafka brokerä¿è¯ç¨³å®šæ€§ã€‚ k8s steteful é›†ç¾¤ 0&amp;hellip;~ n ä¸ª POD zookeeper é‡Œé¢ zoo.</description></item><item><title>12 èŠèŠè™è Chat</title><link>https://pinkhello.github.io/posts/12-%E8%81%8A%E8%81%8A%E8%9D%99%E8%9D%A0chat/</link><pubDate>Wed, 10 Feb 2021 09:10:14 +0800</pubDate><guid>https://pinkhello.github.io/posts/12-%E8%81%8A%E8%81%8A%E8%9D%99%E8%9D%A0chat/</guid><description>title: è€å¸æœºèŠèŠBatChat date: 2021-01-31 21:37:07 tags:
BatChat/åŠ å¯†èŠå¤© ä»Šå¤©ï¼Œåœ¨æµè§ˆå°ä¼—è½¯ä»¶çš„æ—¶å€™ï¼Œçªç„¶çœ‹è§ä¸€ä¸ªæ—©æœŸå°ç¼–çš„æ¨å¹¿ï½ï½ï½è™è APPï¼Œè”æƒ³åˆ°ä¹‹å‰æ–°é—»ä¸­çœ‹åˆ°çš„æœ‰ä¸ªè´©å–ä¸ªäººä¿¡æ¯çš„äººè¯´åœ¨è™è APPä¸Šï¼Œå‹¾èµ·äº†æˆ‘çš„å¥½å¥‡å¿ƒï¼Œä½œä¸ºä¸€ä¸ªç¨‹åºğŸ¶ï¼Œé»˜é»˜çš„æƒ³æ¢ç©¶ä¸€ä¸‹è¿™ä¸ªè™è APPç©çš„ä»€ä¹ˆå¥—è·¯ã€‚
ä»€ä¹ˆæ˜¯è™è ï¼ˆBatChatï¼‰ ä¸€æ¬¾å…è´¹çš„ç«¯åˆ°ç«¯åŠ å¯†çš„è™è APPï¼Œéšæ—¶ç•…èŠï¼ åº”ç”¨ IOSã€Android https://batchat.com
å®ƒçš„ç‰¹æ€§ å®‰å…¨ ï½œ ç•…èŠæ—¶ã€ç«¯åˆ°ç«¯åŠ å¯†ï¼ˆæ‰€æœ‰æ¶ˆæ¯ç»è¿‡ç«¯åˆ°ç«¯åŠ å¯†ï¼Œä»»ä½•èŠå¤©è®°å½•ä¸è¿›è¡Œäº‘å­˜å‚¨ï¼Œè®©ä½ çš„ä¿¡æ¯æƒ³è±¡ä¸­æ›´å®‰å…¨ï¼‰ éšç§ ï½œ ç•…èŠæ—¶ã€åŒå‘æ’¤å›ï¼ˆèŠå¤©è®°å½•ä¸€é”®åŒå‘æ’¤å›ï¼ŒåŒæ—¶åˆ é™¤ä½ å’Œå¯¹æ–¹è®¾å¤‡ä¸Šæ‰€æœ‰çš„èŠå¤©è®°å½•ï¼Œæ’¤å›æ•°æ®å¤šæ¬¡è¦†ç›–åˆ é™¤ã€ä¸å¯æ¢å¤ã€ä¿è¯åŒæ–¹çš„éšç§å®‰å…¨ï¼‰ åŒ¿åç¾¤èŠ ï½œ å¼€å¯åŒ¿åç¾¤èŠï¼Œç¾¤é‡Œé¢çš„æ¯ä¸€ä¸ªæˆå‘˜éƒ½å¯ä»¥&amp;quot;å˜èº«&amp;quot;ï¼Œéšè—çœŸå®èº«ä»½ï¼Œç¾¤å†…ä¸å—èº«ä»½çº¦æŸ ä»€ä¹ˆæ˜¯ç«¯åˆ°ç«¯åŠ å¯†ï¼Ÿ ç«¯åˆ°ç«¯åŠ å¯†æ˜¯åœ¨æºç»“ç‚¹å’Œç›®çš„ç»“ç‚¹ä¸­å¯¹ä¼ é€çš„æ•°æ®è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ï¼Œ å› æ­¤æ•°æ®çš„å®‰å…¨æ€§ä¸ä¼šå› ä¸­é—´ç»“ç‚¹çš„ä¸å¯é è€Œå—åˆ°å½±å“ã€‚ è™è APPçš„æ‰€æœ‰æ•°æ®éƒ½é€šè¿‡ç”¨æˆ·ç«¯ç”Ÿæˆçš„ç§é’¥è¿›è¡ŒåŠ å¯†åå†å‘é€ï¼Œä»»ä½•ç¬¬ä¸‰æ–¹åŒ…æ‹¬å¼€å‘è€…éƒ½ä¸èƒ½è§£å¼€æ­¤æ•°æ®.
è™è APPé‡‡ç”¨çš„å®‰å…¨å±‚çº§ï¼Ÿ é€šé“åŠ å¯† é€šé“åŠ å¯†ä¸­é‡‡ç”¨äº†å“ªäº›åŠ å¯†ç®—æ³•ï¼Ÿ é€šé“åŠ å¯†ä¸­ä½¿ç”¨åˆ°çš„ RSA, ECDHE, AES256_CBC, SHA256, SHA1ç­‰ç­‰(å¦‚ä¸‹å›¾)ã€‚
æ­¥éª¤:
(1. å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å…ˆäº§ç”Ÿéšæœºæ•° (2. æœåŠ¡å™¨ä¸‹å‘éšæœºæ•°ã€‚ (3. å®¢æˆ·ç«¯ç”¨ RSA å¯¹å®¢æˆ·ç«¯éšæœºæ•°è¿›è¡ŒåŠ å¯†ï¼Œå¹¶å‘é€ç»™æœåŠ¡å™¨ã€‚ (4. æœåŠ¡å™¨ç”¨ RSA è§£å¯†å®¢æˆ·ç«¯éšæœºæ•°ï¼ˆä½¿ç”¨ RSA çš„ç›®çš„æ˜¯é˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼‰ã€‚ (5. å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨ç”¨è‡ªå·±çš„éšæœºæ•°åŠ ä¸Šå¯¹æ–¹çš„éšæœºæ•°ç”Ÿæˆä¸´æ—¶å¯†é’¥ TempKey å’Œä¸´æ—¶åç§»é‡ TempIV (æ­¤æ—¶åŒæ–¹å‡æŒæœ‰ç›¸åŒçš„ TempKeyå’ŒTempIV)ã€‚ (6. å®¢æˆ·ç«¯æœåŠ¡å™¨å‡ä½¿ç”¨ ECDHE ç”Ÿæˆå„è‡ªçš„å…¬ç§é’¥å¯¹ã€‚ (7.</description></item><item><title>11 å‡ ä¸ªå…³äºkafkaçš„çŸ¥è¯†ç‚¹</title><link>https://pinkhello.github.io/posts/11-%E5%87%A0%E4%B8%AA%E5%85%B3%E4%BA%8Ekafka%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9/</link><pubDate>Wed, 10 Feb 2021 08:55:19 +0800</pubDate><guid>https://pinkhello.github.io/posts/11-%E5%87%A0%E4%B8%AA%E5%85%B3%E4%BA%8Ekafka%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9/</guid><description>è®¤è¯†kafka Kafka æ˜¯åˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿï¼Œ Apache çš„å­é¡¹ç›®ã€‚æ ‡è¯­ä¹Ÿå˜äº†&amp;quot;åˆ†å¸ƒå¼æµå¹³å°&amp;quot;ï¼Œ ä¸ä¼ ç»Ÿçš„æ¶ˆæ¯ç³»ç»Ÿä¸åŒç‚¹åœ¨äº
åˆ†å¸ƒå¼çš„ï¼Œæ˜“äºæ‰©å±• ä¸ºå‘å¸ƒå’Œè®¢é˜…æä¾›äº†é«˜åå æ”¯æŒå¤šè®¢é˜…è€…ï¼Œåœ¨å¤±è´¥çš„æ—¶å€™èƒ½è‡ªåŠ¨å¹³è¡¡æ¶ˆè´¹è€… æ¶ˆæ¯çš„æŒä¹…åŒ– kafka çš„æ¶æ„ å‡ ç‚¹ï¼Ÿ
Kafka çš„ Topic å’Œ Partition å†…éƒ¨å¦‚ä½•å­˜å‚¨ï¼Ÿ ä¸ä¼ ç»Ÿçš„æ¶ˆæ¯ç³»ç»Ÿç›¸æ¯”ï¼Œ Kafka æ¶ˆè´¹æ¨¡å‹æœ‰å•¥ä¼˜ç‚¹ï¼Ÿ Kafka æ˜¯å¦‚ä½•å®ç°åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨å’Œæ•°æ®çš„è¯»å–ï¼Ÿ Kafka æ¶æ„ ä¸€ä¸ª Kafka é›†ç¾¤ï¼Œå¤šä¸ª Producer ï¼Œå¤šä¸ª Consumer ï¼Œå¤šä¸ª Broker ï¼Œ é€‰ä¸¾ Leader ä»¥åŠåœ¨ Consumer Group å‘ç”Ÿå˜åŒ–æ—¶è¿›è¡Œ reblance ã€‚
Broker æ¶ˆæ¯ä¸­é—´ä»¶çš„å¤„ç†èŠ‚ç‚¹ï¼Œä¸€ä¸ª Kafka èŠ‚ç‚¹å°±æ˜¯ä¸€ä¸ª Broker ï¼Œ ä¸€ä¸ªæˆ–è€…å¤šä¸ª Broker ç»„æˆ Kafka é›†ç¾¤ Topic Kafka æ ¹æ® Topic å¯¹ Message è¿›è¡Œå½’ç±»ï¼Œå‘å¸ƒåˆ° Kafka çš„æ¯æ¡ Message éƒ½è¦æŒ‡å®š Topic Producer å‘ Broker å‘ç”Ÿ message Consumer ä» Broker è¯»å– message Consumer Group æ¯ä¸ª Consumer å±äºç‰¹å®šçš„ Groupï¼Œä¸€ä¸ª Message å¯ä»¥å‘é€ç»™ä¸åŒçš„ Consumer Group ï¼Œä½†æ˜¯åŒä¸€ä¸ª Group ä¸‹çš„åªæœ‰ä¸€ä¸ª Consumer èƒ½æ¶ˆè´¹è¯¥ Message Partition ç‰©ç†æ¦‚å¿µï¼Œä¸€ä¸ª Topic ä¸‹å¯ä»¥åˆ†ä¸ºå¤šä¸ª Partition, æ¯ä¸ª Partition ä¸‹æ˜¯æœ‰åºçš„ã€‚ ä¸‹é¢æ¥è®²è¿° ä¸Šé¢ä¸ºé—®é¢˜å•Š</description></item><item><title>10 å¤šåŸŸåä¸‹çš„SSH</title><link>https://pinkhello.github.io/posts/10-%E5%A4%9A%E5%9F%9F%E5%90%8D%E4%B8%8B%E7%9A%84ssh/</link><pubDate>Wed, 10 Feb 2021 08:52:57 +0800</pubDate><guid>https://pinkhello.github.io/posts/10-%E5%A4%9A%E5%9F%9F%E5%90%8D%E4%B8%8B%E7%9A%84ssh/</guid><description>å‰è¨€ æœ‰æ—¶å€™æˆ‘ä»¬ï¼Œæœ‰å¤šä¸ª git è´¦å·ï¼ˆGitlabã€GitHubï¼‰ï¼Œè¿™æ—¶å€™å¦‚æœæ˜¯åŒä¸€ä¸ªè´¦å·ï¼ˆé‚®ç®±æ³¨å†Œï¼‰ï¼Œé‚£ä¸ä¼šæœ‰é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœä¸æ˜¯ç›¸åŒçš„è´¦å·å‘¢ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨ SSH KEY åšå…å¯†ç™»å½•æ—¶å€™ï¼Œå¤´ç—›äº†ã€‚
è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦é’ˆå¯¹ä¸åŒçš„è´¦å·ï¼Œç”Ÿæˆä¸åŒçš„ SSH Keyï¼Œå¹¶ä¸”é…ç½®ä¸åŒçš„åŸŸåä½¿ç”¨ä¸åŒçš„Key
ç”Ÿæˆä¸€ä¸ª SSH KEY ssh-keygen -t rsa -C &amp;#34;username@email.com&amp;#34; ä¸€è·¯ Enterï¼Œå¹¶ä¸”åœ¨ç”Ÿæˆæ—¶å€™æŒ‡å®šåå­—ï¼Œï¼ˆä¸æŒ‡å®šåå­—ä¼šä½¿ç”¨é»˜è®¤çš„ï¼‰å¾—åˆ°
id_rsa # ç§é’¥ id_rsa.pub # å…¬é’¥ é‡å¤ä¸Šä¸€ä¸ªæ­¥éª¤ï¼Œç”Ÿæˆå¤šä¸ª ç§é’¥å’Œå…¬é’¥ github_id_rsa github_id_rsa.pub gitlab_id_rsa gitlab_id_rsa.pub é…ç½®ç›¸åº”çš„åŸŸåå¯¹åº”çš„ SSH-KEY æœ¬åœ°ç›®å½• ~/.ssh/ ä¸‹ï¼ŒæŸ¥é˜…æœ‰æ²¡æœ‰ config æ–‡ä»¶, ä¸å­˜åœ¨å°±æ–°å»º config æ–‡ä»¶ Host github HostName github.com User UserName PreferredAuthentications publickey IdentityFile ~/.ssh/github_id_rsa Host gitlab HostName gitlab.com User UserName PreferredAuthentications publickey IdentityFile ~/.ssh/gitlab_id_rsa å°†å¯†é’¥æ·»åŠ è¿›å…¥ SSH-AGENT ä¸­ ssh-add ~/.</description></item><item><title>09 ä½¿ç”¨githookç»Ÿä¸€codestyle</title><link>https://pinkhello.github.io/posts/09-%E4%BD%BF%E7%94%A8githook%E7%BB%9F%E4%B8%80codestyle/</link><pubDate>Wed, 10 Feb 2021 08:46:52 +0800</pubDate><guid>https://pinkhello.github.io/posts/09-%E4%BD%BF%E7%94%A8githook%E7%BB%9F%E4%B8%80codestyle/</guid><description>gradle ä¼˜åŒ– build æŒ‡å®š -g cache ç¼“å­˜ checkstyle å®è·µ åŸºç¡€é•œåƒåŒ…å« checkstyle.xml æˆ–è€… æ”¾åˆ°è¿œç¨‹å…¶ä»–å¯è¢«æ‹‰å–åˆ°çš„å­˜å‚¨ä»‹è´¨ ï¼Œé˜²æ­¢é¡¹ç›®æˆå‘˜æ”¹åŠ¨ gitlab-ci beforeScript æ ‡ç­¾æ‰§è¡Œå‘½ä»¤ copy /checkstyle.xml è¿›å…¥é¡¹ç›®ï¼Œ(è¦†ç›–é¡¹ç›®ä¸­å­˜åœ¨çš„). gradle ç¼–è¯‘çš„è¯ å°† maven-publish.gradle repos.gradle checkstyle.gradle(checkstyle æ’ä»¶é…ç½® ç‰ˆæœ¬ä»¥åŠ configFile) æŠ½å‡ºæ”¾åˆ°å…¬å…±çš„åœ°æ–¹ï¼Œé˜²æ­¢é¡¹ç›®å›¢é˜Ÿæˆå‘˜æ”¹çš„. maven çš„è¯ï¼Œå¯ä»¥åœ¨å…¬å…±çš„é¡¶çº§ç»§æ‰¿ pom é‡Œé¢æŒ‡å®šå˜é‡checkstyle.config.location. mvn checkstyle -Dcheckstyle.config.location=checkstyle.xml git hook å®è·µ æ¯ä¸ªé¡¹ç›®é‡Œé¢ .git/hooks é‡Œé¢æœ‰å¾ˆå¤šçš„ hook æ¨¡æ¿
å®¢æˆ·ç«¯é’©å­åŒ…æ‹¬:pre-commitã€prepare-commit-msgã€commit-msgã€post-commitç­‰ï¼Œä¸»è¦ç”¨äºæ§åˆ¶å®¢æˆ·ç«¯gitçš„æäº¤å·¥ä½œæµã€‚
æœåŠ¡ç«¯é’©å­ï¼špre-receiveã€post-receiveã€updateï¼Œä¸»è¦åœ¨æœåŠ¡ç«¯æ¥æ”¶æäº¤å¯¹è±¡æ—¶ã€æ¨é€åˆ°æœåŠ¡å™¨ä¹‹å‰è°ƒç”¨ã€‚
ä»Šå¤©å®è·µçš„æ˜¯ å®¢æˆ·ç«¯é’©å­ï¼Œä¼˜åŒ–å‡å°‘ä¸ç¬¦åˆè§„èŒƒæˆ–è€…ä½è´¨é‡ä»£ç è¿›å…¥ gitflow æµç¨‹.
pre-commit å’Œ commit-msg æ˜¯ä»Šå¤©çš„ä¸»è§’ï¼Œpre-commit æ‰§è¡Œä¸ git add ä¹‹åï¼Œåœ¨è¿›è¡Œ git commit ä¹‹å‰è¿›è¡Œçš„æ“ä½œ. å¯ä»¥ç”¨æ¥è¿›è¡Œ code check code lint ç­‰ç­‰, commit-msg æ‰§è¡Œä¸ git commit å¸¸ç”¨äºè¡¥å…¨ git commit message check msg ç­‰ç­‰ å½“ç„¶è¿˜æœ‰å…¶ä»–éªšæ“ä½œçš„åŠŸèƒ½ï¼Œå¯ä»¥é€šçŸ¥ï¼Œç­‰ç­‰ï¼Œåšå¤šç§è‡ªåŠ¨åŒ–</description></item><item><title>08 Gradleå¤šæ¨¡å—é¡¹ç›®æ¨¡æ¿åŒ–</title><link>https://pinkhello.github.io/posts/08-gradle%E5%A4%9A%E6%A8%A1%E5%9D%97%E9%A1%B9%E7%9B%AE%E6%A8%A1%E6%9D%BF%E5%8C%96/</link><pubDate>Wed, 10 Feb 2021 08:43:21 +0800</pubDate><guid>https://pinkhello.github.io/posts/08-gradle%E5%A4%9A%E6%A8%A1%E5%9D%97%E9%A1%B9%E7%9B%AE%E6%A8%A1%E6%9D%BF%E5%8C%96/</guid><description>å‰è¨€ Maven å†—ä½™ï¼Œ Gradle ç®€å•è½»ä¾¿ å…¬å¸åŸæœ‰çš„ CI/CD æµç¨‹ï¼Œå€ŸåŠ© Maven æ’ä»¶ build Docker Image,æ”¹ä¸ºåŸç”Ÿ Docker Runner åŸå§‹æ„å»º
1ã€å¤šæ¨¡å—é¡¹ç›® project- app- src/main/[java|resources] | src/test/[java|resources] # classpath- Dockerfile # Dockerfile- build.gradle # APP æ¨¡å— gradle é…ç½®- sdk # SDK æ¨¡å— å¯æœ‰å¯æ— - src/main/java- build.gradle # SDK çš„ gradle é…ç½®- deploy # delpoy é¡¹ç›® æ³¨æ„ checkstyle ç›¸å…³é…ç½®åœ¨è¿™é‡Œé¢- checkstyle/**- **.yml- build.gradle # é¡¹ç›®é¡¶çº§ gradleé…ç½®- gradle- wrapper/** # gradle é…ç½®ä¿¡æ¯- check.gradle # pmd &amp;amp; checkstyle- repo.gradle # ä»“åº“å®šä¹‰# test.</description></item><item><title>07 Fabricä½¿ç”¨</title><link>https://pinkhello.github.io/posts/07-fabric%E4%BD%BF%E7%94%A8/</link><pubDate>Wed, 10 Feb 2021 08:40:46 +0800</pubDate><guid>https://pinkhello.github.io/posts/07-fabric%E4%BD%BF%E7%94%A8/</guid><description>docker åŠ å…¥systemctlç¯å¢ƒå¹¶å¯åŠ¨docker å¿«é€Ÿå®‰è£…docker
curl -sSL https://get.daocloud.io/docker | sh systemctl enable docker systemctl start docker docker-compose å®‰è£… èµ°å¤–ç½‘æˆ–è€… github å¤ªæ…¢,å¯ä»¥ä½¿ç”¨å†…éƒ¨åŠ é€Ÿ
curl -L &amp;#34;https://github.com/docker/compose/releases/download/X.XX.X/docker-compose-$(uname -s)-$(uname -m)&amp;#34; -o /usr/local/bin/docker-compose curl -L https://get.daocloud.io/docker/compose/releases/download/1.26.2/docker-compose-`uname -s`-`uname -m` &amp;gt; /usr/local/bin/docker-compose fabric è‡ªåŠ¨è¿ç»´ python è™šæ‹Ÿç¯å¢ƒå®‰è£… å‚è€ƒ
åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„è™šæ‹Ÿç¯å¢ƒ
cd ç›®æ ‡ç›®å½• virtualenv --no-site-packages venv æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate python pip å®‰è£… Fabric pip install fabric3 python pip å¯¼å‡ºä¾èµ– pip freeze &amp;gt; requirements.txt å…¶ä»–python pip å¯¼å…¥å®‰è£… pip install -r requirements.txt Fabric æ–‡æ¡£ fabfiles æ–‡æ¡£ # encoding=utf-8 from fabric.</description></item><item><title>06 é«˜æ€§èƒ½é˜Ÿåˆ—Disruptor</title><link>https://pinkhello.github.io/posts/06-%E9%AB%98%E6%80%A7%E8%83%BD%E9%98%9F%E5%88%97disruptor/</link><pubDate>Wed, 10 Feb 2021 08:35:29 +0800</pubDate><guid>https://pinkhello.github.io/posts/06-%E9%AB%98%E6%80%A7%E8%83%BD%E9%98%9F%E5%88%97disruptor/</guid><description>èƒŒæ™¯ Disruptor æ˜¯ å¤–æ±‡äº¤æ˜“å…¬å¸LMAXå¼€å‘çš„é«˜æ€§èƒ½é˜Ÿåˆ—ã€ç ”å‘æ˜¯ä¸ºäº†è§£å†³å†…å­˜é˜Ÿåˆ—å»¶è¿Ÿé—®é¢˜ã€‚ Disruptor ä¸€èˆ¬ç”¨äºçº¿ç¨‹é—´çš„æ¶ˆæ¯ä¼ é€’ã€‚ Disruptor GitHub åœ°å€
Disruptor ä»‹ç» ç†è§£ Disruptor æœ€å¥½çš„æ–¹å¼ï¼Œé€‰æ‹©ä¸€ä¸ªæœ€æ¥è¿‘ç†Ÿæ‚‰çš„æ ·æœ¬è¿›è¡Œæ¯”è¾ƒã€‚åœ¨è¿™ä¸ªå‰æä¸‹ï¼Œå¯ä»¥é€‰æ‹© Java ä¸­çš„ BlockingQueue. å’Œé˜Ÿåˆ—ç›¸ä¼¼ï¼ŒDisruptor ä¹Ÿæ˜¯åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­ä¸åŒçš„çº¿ç¨‹ä¹‹é—´è¿›è¡Œä¼ é€’æ•°æ®çš„ï¼ˆä¾‹å¦‚æ¶ˆæ¯æˆ–è€…äº‹ä»¶ï¼‰ï¼ŒåŒæ—¶ Disruptor æä¾›äº†ä¸€äº›å°†å…³é”®åŠŸèƒ½å’Œé˜Ÿåˆ—åˆ†å¼€çš„ç‰¹æ€§ï¼š
å‘æ¶ˆè´¹è€…å‘é€å¤šæ’­äº‹ä»¶ æ¶ˆæ¯è€…ä¾èµ–å…³ç³»å›¾ é¢„å…ˆä¸ºäº‹ä»¶åˆ†é…å†…å­˜ å¯é€‰çš„ï¼ˆæ— é”ï¼‰ Disruptor æ ¸å¿ƒæ¦‚å¿µ åœ¨æˆ‘ä»¬ç†è§£Disruptorå¦‚ä½•å·¥ä½œä¹‹å‰ï¼Œäº†è§£ä¸‹æ ¸å¿ƒæ¦‚å¿µ
Ring Buffer ç¯å½¢æ•°ç»„è®¾è®¡ï¼Œä¸ºäº†é¿å…åƒåœ¾å›æ”¶ï¼Œé‡‡ç”¨çš„æ•°ç»„ç»“æ„ï¼Œä»3.0å¼€å§‹ï¼Œç¯å½¢ç¼“å†²åŒºä¸»è¦å­˜å‚¨å’Œæ›´æ–°åœ¨Disruptorä¸­ç§»åŠ¨çš„æ•°æ®ï¼ˆäº‹ä»¶ï¼‰ Sequence Disruptor æ¯ä¸ªæ¶ˆè´¹è€…(EventProcessor)ç»´æŠ¤ä¸€ä¸ª Sequenceï¼Œå¹¶å‘çš„å¤§å¤šæ•°ä»£ç éƒ½ä¾èµ– Sequence å€¼çš„æ”¹åŠ¨ï¼Œæ‰€ä»¥ Sequence æ”¯æŒ AtomicLong çš„å¤§éƒ¨åˆ†ä¹Ÿè¡Œ, å”¯ä¸€ä¸åŒçš„æ˜¯ Sequence åŒ…å«é¢å¤–çš„åŠŸèƒ½æ¥é˜»æ­¢Sequenceå’Œå…¶ä»–å€¼ä¹‹é—´çš„ä¼ªå…±äº«(false sharing) Sequencer
Disruptor æ ¸å¿ƒé€»è¾‘, ä¸¤ä¸ªå®ç°: å•ç”Ÿäº§è€…å’Œå¤šç”Ÿäº§è€…ã€‚ä»–ä»¬å®ç°äº†ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…ä¹‹é—´çš„å¿«é€Ÿä¼ é€’çš„å¹¶å‘ç®—æ³•ã€‚ Sequence Barrier ç”± Sequencer ç”Ÿæˆï¼ŒåŒ…å«æ­¤ Sequencer å‘å¸ƒçš„ Sequence æŒ‡é’ˆä»¥åŠä¾èµ–çš„å…¶ä»–æ¶ˆè´¹è€…çš„ Sequenceã€‚åŒ…å«äº†æ¶ˆè´¹è€…æ£€æŸ¥æ˜¯å¦æœ‰å¯ç”¨çš„äº‹ä»¶çš„ä»£ç ã€‚ Wait Strategy æ¶ˆè´¹è€…ç­‰å¾…äº‹ä»¶çš„ç­–ç•¥ï¼Œè¿™ä¸ªäº‹ä»¶ç”±ç”Ÿäº§è€…æ”¾å…¥ï¼Œå†³å®šäº†æ¶ˆè´¹è€…æ€ä¹ˆç­‰å¾…ç”Ÿäº§è€…å°†äº‹ä»¶æ”¾å…¥ Disruptor Event ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…ä¼ é€’çš„äº‹ä»¶ï¼Œå®Œå…¨ç”±ç”¨æˆ·å®šä¹‰ EventProcessor å¤„ç†äº‹ä»¶çš„ä¸»è¦å¾ªç¯ï¼ˆmain event loopï¼‰ï¼ŒåŒ…å«äº†ä¸€ä¸ª Sequeuece.</description></item><item><title>05 OAuth2.0 é‚£ç‚¹äº‹</title><link>https://pinkhello.github.io/posts/05-oauth2.0%E9%82%A3%E7%82%B9%E4%BA%8B/</link><pubDate>Wed, 10 Feb 2021 08:32:02 +0800</pubDate><guid>https://pinkhello.github.io/posts/05-oauth2.0%E9%82%A3%E7%82%B9%E4%BA%8B/</guid><description>OAuth2.0 æ˜¯ä»€ä¹ˆ? OAuth2.0 Framework RFC 6749 [https://tools.ietf.org/html/rfc6749]
OAuth å°±æ˜¯ä¸€ç§æˆæƒæœºåˆ¶ï¼Œå®ƒä»‹äºå®¢æˆ·ç«¯ä¸èµ„æºæ‰€æœ‰è€…çš„æˆæƒå±‚ï¼Œä¸ºäº†åˆ†ç¦»ä¸åŒçš„è§’è‰²ã€‚ åœ¨èµ„æºæ‰€æœ‰è€…åŒæ„å¹¶å‘å®¢æˆ·ç«¯é¢å‘ä»¤ç‰Œåï¼Œå®¢æˆ·ç«¯æºå¸¦ä»¤ç‰Œå¯ä»¥è®¿é—®éƒ¨åˆ†æˆ–å…¨éƒ¨èµ„æºã€‚
OAuth2.0æ˜¯OAuthåè®®çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œä¸º2.0ç‰ˆæœ¬ã€‚æœ‰æ„æ€çš„æ˜¯ 2.0ä¸ 1.0å¹¶ä¸å…¼å®¹ã€‚
OAuth2.0 æˆæƒæ–¹å¼ è·å–æˆæƒçš„è¿‡ç¨‹
æˆæƒç (authorization-code) éšè—å¼(implicit) å¯†ç (password) å®¢æˆ·ç«¯å‡­è¯(client credentials) ä¸ç®¡å“ªç§æ–¹å¼ï¼Œéƒ½éœ€è¦åœ¨ç¬¬ä¸‰æ–¹åº”ç”¨ç”³è¯·ä»¤ç‰Œä¹‹å‰ï¼Œéœ€è¦åœ¨ç³»ç»Ÿä¸­ç”³è¯·èº«ä»½å”¯ä¸€æ ‡è¯†: å®¢æˆ·ç«¯ID Client IDå’Œ å®¢æˆ·ç«¯ç§˜é’¥ Client Secret. è¿™æ ·èƒ½ç¡®ä¿Tokenä¸è¢«æ¶æ„ä½¿ç”¨ã€‚
æˆæƒé‡è¦çš„å‚æ•°å’ŒæŒ‡æ ‡:
response_typeå“åº”ç±»å‹: code(è¦æ±‚è¿”å›æˆæƒç ),token(è¦æ±‚è¿”å›æˆæƒToken) client_idå®¢æˆ·ç«¯èº«ä»½æ ‡è¯† client_secretå®¢æˆ·ç«¯ç§˜é’¥ redirect_urié‡å®šå‘åœ°å€ scopeæˆæƒèŒƒå›´, readåªè¯»æƒé™, allå…¨éƒ¨æƒé™ grant_typeæˆæƒæ–¹å¼ authorization_code(æˆæƒç )ã€password(å¯†ç )ã€client_credentials(å‡­è¯)ã€refresh_token(æ›´æ–°ä»¤ç‰Œ) stateåº”ç”¨ç¨‹åºä¼ é€’çš„ä¸€ä¸ªéšæœºæ•°ï¼Œé˜²æ­¢ CSRFæ”»å‡» æˆæƒç  åœ¨è®¿é—®ç¬¬ä¸‰æ–¹åº”ç”¨å…ˆç”³è¯·ä¸€ä¸ªæˆæƒç ï¼Œç„¶åå†ç”¨æˆæƒç è·å–ä»¤ç‰Œ.è¿™ç§æ–¹å¼ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æµç¨‹ï¼Œå®‰å…¨æ€§ä¹Ÿæ˜¯æœ€é«˜çš„ï¼Œé€‚ç”¨äºæœ‰åç«¯çš„Webåº”ç”¨ã€‚æˆæƒç é€šè¿‡å‰ç«¯ä¼ é€ï¼Œä»¤ç‰Œå­˜å‚¨åœ¨åç«¯ã€‚æ‰€æœ‰çš„å’Œèµ„æºæœåŠ¡å™¨çš„äº¤äº’éƒ½åœ¨æœåŠ¡ç«¯å®Œæˆï¼Œé¿å…äº†ä»¤ç‰Œçš„æ³„éœ²ã€‚ æˆæƒç å’Œä»¤ç‰Œçš„åœ¨ æµè§ˆå™¨å’Œå®¢æˆ·ç«¯WEBåº”ç”¨ä»¥åŠèµ„æºæœåŠ¡å™¨çš„äº¤äº’æµç¨‹å¤§è‡´å¦‚ä¸‹: 1.2.3.4 ç”¨æˆ·é€‰æ‹© Googleç™»é™† yelp.com 3.4 Yelp.comè¯·æ±‚ç”¨æˆ·æˆæƒ Googleæƒé™ 5.6 ç”¨æˆ·åŒæ„åè¿”å›æˆæƒç  7.8 Yelp.comé€šè¿‡æˆæƒç  ä¼šå‘ Googleå‘èµ·è¯·æ±‚Token 9 éªŒè¯å¿…è¦å‚æ•°ï¼Œè¿”å› Token 10.11 æ“ä½œè¯·æ±‚ éšè—å¼ å¯†ç å¼ é¡¾åæ€è®®,åœ¨è‡ªå·±çš„ç³»ç»Ÿè¾“å…¥ç¬¬ä¸‰æ–¹ç³»ç»Ÿçš„è´¦å·å¯†ç ,è‡ªå·±çš„ç³»ç»Ÿæ‹¿è´¦å·å¯†ç å»ç”³è¯·ä»¤ç‰Œï¼Œå“åº”é¢˜é‡Œé¢è¿”å›token</description></item><item><title>04 å¦‚ä½•æ„å»ºä¸€ä¸ªç®€å•çš„RPCè°ƒç”¨</title><link>https://pinkhello.github.io/posts/04-%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84rpc%E8%B0%83%E7%94%A8/</link><pubDate>Wed, 10 Feb 2021 08:24:19 +0800</pubDate><guid>https://pinkhello.github.io/posts/04-%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84rpc%E8%B0%83%E7%94%A8/</guid><description>1ã€ä»€ä¹ˆå«RPC?
RPCæ„æˆ
RPC Consumer RPC Provider ConfigServer 1ã€Provider å¯åŠ¨ ConfigServer æ³¨å†ŒæœåŠ¡ 2ã€Consumer å¯åŠ¨ ConfigServer è®¢é˜…æœåŠ¡ï¼Œ 3ã€å‘èµ·è°ƒç”¨ Consumer &amp;mdash;&amp;gt; Provider 4ã€å“åº”è°ƒç”¨ Consumer &amp;lt;&amp;mdash; Provider 2ã€ä»€ä¹ˆæ˜¯ Netty ? https://netty.io/
3ã€ç°æœ‰çš„å¼€æºçš„é¡¹ç›®æ˜¯å¦ä½¿ç”¨äº† Netty ?
Dubbo Grpc Spark &amp;hellip;. 4ã€RPC Provider å¯åŠ¨
Netty Server æ–¹å¼å¯åŠ¨ Rpc æœåŠ¡çš„æ³¨å†Œ 5ã€RPC Consumer å¯åŠ¨
Netty Client æ–¹å¼å¯åŠ¨ RPC æ³›åŒ–è°ƒç”¨ã€é€šè¿‡å­—èŠ‚ç åŸºäºåå°„æ¥å®ç°è¿œç¨‹è°ƒåº¦ Consumer æœåŠ¡è®¢é˜… å¯åŠ¨æ—¶å»ºç«‹é•¿è¿æ¥ 6ã€ä»ç¬¬å››å¯ä»¥çœ‹å‡ºï¼Œå¤šä¸ª Provider æ˜¯ç”±ä¸€ä¸ª NettyServer æä¾›çš„ï¼Œé€šè¿‡ HandlerMap æ˜ å°„æ‰¾åˆ°å¯¹åº”çš„ Ioc Beanï¼Œå®ŒæˆæœåŠ¡è°ƒç”¨</description></item><item><title>03 Stringä¸ºä»€ä¹ˆè®¾è®¡æˆfinal</title><link>https://pinkhello.github.io/posts/03-string%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AE%BE%E8%AE%A1%E6%88%90final/</link><pubDate>Wed, 10 Feb 2021 08:19:51 +0800</pubDate><guid>https://pinkhello.github.io/posts/03-string%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AE%BE%E8%AE%A1%E6%88%90final/</guid><description>Stringæºç å‰–æ public final class String implements java.io.Serializable, Comparable&amp;lt;String&amp;gt;, CharSequence { /** The value is used for character storage. */ private final char value[]; /** Cache the hash code for the string */ private int hash; // Default to 0 /** use serialVersionUID from JDK 1.0.2 for interoperability */ private static final long serialVersionUID = -6849794470754667710L; /** * Class String is special cased within the Serialization Stream Protocol. * * A String instance is written into an ObjectOutputStream according to * &amp;lt;a href=&amp;#34;{@docRoot}/.</description></item><item><title>02 å…³äºfinalçš„æ€è€ƒ</title><link>https://pinkhello.github.io/posts/02-%E5%85%B3%E4%BA%8Efinal%E7%9A%84%E6%80%9D%E8%80%83/</link><pubDate>Wed, 10 Feb 2021 08:09:36 +0800</pubDate><guid>https://pinkhello.github.io/posts/02-%E5%85%B3%E4%BA%8Efinal%E7%9A%84%E6%80%9D%E8%80%83/</guid><description>å…³äºfinalçš„æ€è€ƒ final æ˜¯å£°æ˜æ•°æ®åŸŸæœ€ç»ˆçš„,ä¸å¯ä»¥ä¿®æ”¹çš„ï¼Œå¸¸è§çš„ æ˜¯ç±»çš„ åºåˆ—åŒ–ID String ç±»ï¼Œå…¶æ•°æ®åŸŸéƒ½æ˜¯ final çš„ ä¿®æ”¹ final ä¿®é¥°çš„å±æ€§ åå°„ä¿®æ”¹ final ä¿®é¥°çš„æ•°æ®åŸŸã€éå¸¸æˆåŠŸçš„ä¿®æ”¹äº†ã€‘
public class Test { private final String name = &amp;#34;hello world&amp;#34;; public static void main(String[] args) throws NoSuchFieldException, IllegalAccessException { Test test = new Test(); Field field = test.getClass().getDeclaredField(&amp;#34;name&amp;#34;); field.setAccessible(true); field.set(test,&amp;#34;HELLO, WORLD!&amp;#34;); System.out.println(field.get(test)); System.out.println(test.name); } } è¾“å‡º Hello, WORLD! hello world ç¬¬ä¸€ä¸ªè¾“å‡ºæ˜¯å› ä¸ºè¯´æ˜è¿è¡ŒæˆåŠŸï¼Œä¿®æ”¹finalä¿®é¥°çš„å¯¹è±¡çš„å±æ€§æˆåŠŸä¿®æ”¹ï¼›
ä½†æ˜¯ç¬¬äºŒä¸ªè¾“å‡ºï¼Œè¡¨æ˜äº†æˆ‘ç›´æ¥ä½¿ç”¨ name çš„å±æ€§å´è¿˜æ˜¯è¾“å‡ºç«¯é¢åŸæ¥çš„å€¼.
åç¼–è¯‘åçš„ä»£ç 
public class Test { private final String name = &amp;#34;hello world&amp;#34;; public Test() { } public static void main(String[] args) throws NoSuchFieldException, IllegalAccessException { Test test = new Test(); Field field = test.</description></item><item><title>01 ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•</title><link>https://pinkhello.github.io/posts/01-%E4%B8%80%E8%87%B4%E6%80%A7%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95/</link><pubDate>Tue, 09 Feb 2021 22:50:46 +0800</pubDate><guid>https://pinkhello.github.io/posts/01-%E4%B8%80%E8%87%B4%E6%80%A7%E5%93%88%E5%B8%8C%E7%AE%97%E6%B3%95/</guid><description>åˆ†å¸ƒå¼å‡è¡¡å¯»å€ç®—æ³• åœ¨åˆ†å¸ƒå¼é›†ç¾¤ä¸­ï¼Œå¯¹æœºå™¨çš„æ·»åŠ åˆ é™¤ï¼Œæˆ–è€…æœºå™¨æ•…éšœåè‡ªåŠ¨è„±è½é›†ç¾¤çš„æ“ä½œæ˜¯åˆ†å¸ƒå¼é›†ç¾¤ç®¡ç†çš„åŸºæœ¬åŠŸèƒ½ã€‚
åœ¨é›†ç¾¤ç¯å¢ƒä¸­ï¼Œåˆ¤æ–­åˆ†å¸ƒå¼å¯»å€ç®—æ³•å¥½åçš„åŸåˆ™ï¼š
å¹³è¡¡æ€§ï¼ˆBalanceï¼‰ å•è°ƒæ€§ï¼ˆMonotonicityï¼‰ åˆ†æ•£æ€§ï¼ˆSpreadï¼‰ è´Ÿè½½ï¼ˆLoadï¼‰ Hash(Object)%N é›†ç¾¤Nå°æœºå™¨ï¼Œæ ¹æ®Nå–æ¨¡ï¼Œè·¯ç”±åˆ°å¯¹åº”çš„æœºå™¨ï¼Œä½†æ˜¯ç¼ºç‚¹åœ¨äºï¼Œå¯¹äºæœºå™¨çš„æ·»åŠ åˆ é™¤ï¼Œå·²ç»ç¼“å­˜çš„æ•°æ®éƒ½å¤±æ•ˆã€ä¸¥é‡è¿åå•è°ƒæ€§ï¼Œ å¤§é‡çš„ç¼“å­˜é‡å»º
å‡è®¾0-3ä¸ªèŠ‚ç‚¹ã€20ä¸ªæ•°æ®: è¿›è¡Œå–æ¨¡ååˆ†å¸ƒ: æ‰©å®¹å: å½“å‰åªæœ‰4ä¸ªæ•°æ®èƒ½å‘½ä¸­ã€‚å‘½ä¸­ç‡ 4/20 = 20% ,å‘½ä¸­ç‡åº•ä¸‹ï¼Œå¹¶ä¸”æœ‰å¤§é‡ç¼“å­˜éœ€è¦é‡å»º
ä¸€è‡´æ€§Hash ( DHT ) å…¬å…±å“ˆå¸Œå‡½æ•°å’Œå“ˆå¸Œç¯ Hashç®—æ³•è®¾è®¡: é‡‡å–å–æ¨¡æ–¹å¼ï¼ŒæŒ‰å¸¸ç”¨çš„ Hash ç®—æ³•å°†å¯¹åº”çš„ Key å“ˆå¸Œåˆ°ä¸€ä¸ªå…·æœ‰ 2^32 æ¬¡æ–¹çš„æ¡¶ç©ºé—´ä¸­ï¼Œå³ 0 ~ (2^32)-1 çš„æ•°å­—ç©ºé—´ã€‚æƒ³æƒ³ä¸€ä¸‹ï¼Œå°†æ•°å­—é¦–ä½ç›¸è¿ï¼Œç»„æˆä¸€ä¸ªé—­åˆçš„ç¯å½¢ã€‚ å¯¹è±¡(Object)æ˜ å°„åˆ°å“ˆå¸Œç¯ æŠŠå¯¹è±¡æ˜ å°„åˆ° 0-2^32-1 ç©ºé—´é‡Œï¼Œå‡è®¾æœ‰4ä¸ªå¯¹è±¡ object1-4 ï¼Œæ˜ å°„è¿›hashç¯çŠ¶ ç¼“å­˜(Cache)æ˜ å°„åˆ°å“ˆå¸Œç¯ ä¸‹é¢å°† Cache æ˜ å°„è¿› Hash ç©ºé—´ï¼Œå‡è®¾ç°åœ¨æœ‰ä¸‰ä¸ªcacheï¼š
åŸºæœ¬æ€æƒ³å°±æ˜¯ Object å’Œ Cache éƒ½æ˜ å°„åˆ°åŒä¸€ Hash æ•°å€¼ç©ºé—´ä¸­ï¼Œå¹¶ä¸”ä½¿ç”¨ç›¸åŒçš„ Hashç®—æ³•ï¼Œå¯ä»¥ä½¿ç”¨ Cache çš„ IPåœ°å€æˆ–è€…å…¶ä»–å› å­ï¼‰</description></item><item><title>00 Threadlocal é­”æ³•</title><link>https://pinkhello.github.io/posts/00-threadlocal-%E9%AD%94%E6%B3%95/</link><pubDate>Tue, 09 Feb 2021 22:25:26 +0800</pubDate><guid>https://pinkhello.github.io/posts/00-threadlocal-%E9%AD%94%E6%B3%95/</guid><description>ThreadLocal è¯¦è§£ å‰è¨€ å¯¹äº ThreadLocal çš„ä½¿ç”¨ï¼Œå¹¶ä¸éš¾ï¼Œè¿™æ¬¡ä¸»è¦è®²è¿° ThreadLocal çš„å®ç°æ–¹å¼ä»¥åŠåŸç†
ThreadLocal æ˜¯ä»€ä¹ˆ ThreadLocal ä¸ºè§£å†³å¤šçº¿ç¨‹å¹¶å‘é—®é¢˜æä¾›çš„ä¸€ç§æ–°çš„æ€è·¯ã€‚
å½“ä½¿ç”¨ ThreadLocal ç»´æŠ¤å˜é‡çš„æ—¶å€™ï¼ŒThreadLocal ä¸ºæ¯ä¸ªä½¿ç”¨è¯¥å˜é‡çš„çº¿ç¨‹æä¾›ç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œæ‰€ä»¥æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹ä¿®æ”¹è‡ªå·±çš„å‰¯æœ¬ï¼Œè€Œä¸ä¼šä¿®æ”¹åˆ°å…¶ä»–äººçš„å˜é‡å‰¯æœ¬ã€‚
ä»çº¿ç¨‹è§’åº¦çœ‹ï¼ŒLocal å³æœ¬åœ°æ„æ€ï¼Œç›®æ ‡å˜é‡å°±åƒæ˜¯çº¿ç¨‹çš„æœ¬åœ°å˜é‡ã€‚
åŸç† ThreadLocal æ˜¯è¿æ¥ Thread ä¸ ThreadLocalMap ç²˜åˆå‰‚ï¼Œæ˜¯ç”¨æ¥å¤„ç† Thread çš„ ThreadLocalMap å±æ€§ï¼Œ åŒ…æ‹¬ initialValue() å˜é‡ï¼Œset å¯¹åº”çš„å˜é‡ï¼Œget å¯¹åº”çš„å˜é‡ã€‚
ThreadLocalMap ç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œé‡‡ç”¨ç±»ä¼¼HashMapçš„æœºåˆ¶ï¼Œå­˜å‚¨äº†ä»¥ThreadLocalä¸ºKeyï¼Œç›®æ ‡æ•°æ®ä¸ºValueçš„Entryé”®å€¼å¯¹æ•°ç»„ç»“æ„ã€‚
Thread æœ‰ä¸ª ThreadLocalMap çš„å±æ€§ï¼Œå­˜å‚¨çš„æ•°æ®å­˜æ”¾åœ¨æ­¤å¤„ã€‚
Threadã€ThreadLocalã€ ThreadLocalMapçš„å…³ç³» ThreadLocalMap æ˜¯ ThreadLocal çš„å†…éƒ¨ç±»ï¼Œæœ‰ ThreadLocalåˆ›å»ºï¼ŒThreadæœ‰ ThreadLocal.ThreadLocalMap ç±»å‹çš„å±æ€§ï¼Œæºç å¦‚ä¸‹
Thread public class Thread implements Runnable { /* * ThreadLocal values pertaining to this thread. This map is maintained * by the ThreadLocal class.</description></item><item><title>helloworld</title><link>https://pinkhello.github.io/posts/helloworld/</link><pubDate>Tue, 09 Feb 2021 22:10:17 +0800</pubDate><guid>https://pinkhello.github.io/posts/helloworld/</guid><description>è¯´æ˜ hello world
è¿™æ˜¯å†…å®¹</description></item></channel></rss>